import{a as p,r as o,j as e,m as f,s as x}from"./index-DMhtMtUl.js";import{N as h}from"./Notification-BOvd0Fr_.js";const y=()=>{const{user:t}=p(),[i,d]=o.useState(!1),[c,s]=o.useState({type:"",message:""}),[a,u]=o.useState({fullName:"",phone:"",avatarUrl:""});o.useEffect(()=>{t&&u({fullName:t.user_metadata?.full_name||"",phone:t.user_metadata?.phone||"",avatarUrl:t.user_metadata?.avatar_url||""})},[t]);const n=l=>{u({...a,[l.target.name]:l.target.value})},m=async l=>{l.preventDefault(),d(!0),s({type:"",message:""});try{const{error:r}=await x.auth.updateUser({data:{full_name:a.fullName,phone:a.phone,avatar_url:a.avatarUrl}});if(r)throw r;s({type:"success",message:"Profile updated successfully!"})}catch(r){s({type:"error",message:r.message||"Failed to update profile."})}finally{d(!1)}};return e.jsxs("section",{className:"max-w-2xl mx-auto px-4 py-10",children:[e.jsx(h,{type:c.type,message:c.message,onClose:()=>s({type:"",message:""})}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-6 sm:p-10 rounded-3xl shadow-2xl border border-indigo-100 bg-white/80 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"relative group",children:e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-tr from-indigo-500 to-pink-500 p-1 shadow-lg",children:a.avatarUrl?e.jsx("img",{src:a.avatarUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover border-2 border-white"}):e.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 flex items-center justify-center text-3xl font-bold text-indigo-600 border-2 border-white",children:(a.fullName||t?.email||"?").charAt(0).toUpperCase()})})}),e.jsx("h2",{className:"text-2xl font-bold mt-4 bg-gradient-to-r from-indigo-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Your Profile"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t?.email})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"üë§"}),e.jsx("input",{type:"text",name:"fullName",value:a.fullName,onChange:n,placeholder:"Enter your name",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"üìû"}),e.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:n,placeholder:"Enter phone number",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Avatar URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"üñºÔ∏è"}),e.jsx("input",{type:"text",name:"avatarUrl",value:a.avatarUrl,onChange:n,placeholder:"Link to your profile picture",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none transition-all"})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-indigo-600 via-fuchsia-500 to-pink-500 text-white font-bold text-lg shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50",children:i?"Saving Changes...":"Save Profile Details"})]})]})]})};export{y as default};
